<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Profile</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <style>


        .form-control {
            border: 1px solid #cfd1d8;
            -webkit-border-radius: 2px;
            -moz-border-radius: 2px;
            border-radius: 2px;
            font-size: .825rem;
            background: #ffffff;
            color: #2e323c;
        }
        .card {
            background: #ffffff;
            -webkit-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
            border: 0;
            margin-bottom: 1rem;
        }
        a {
            color: inherit;
            text-decoration: inherit;
        }
        .required-field::after {
            content: "*";
            color: red;
            margin-left:2px
        }
    </style>
</head>
<body>
<script>

    $(document).ready(function () {
        $("input[name=phone]").val(sessionStorage.getItem("contact"))
        $("input[name=aadhaar]").val(sessionStorage.getItem("aadhaar"))
        $("input[name=pan]").val(sessionStorage.getItem("pan"))
        $("input[name=address]").val(sessionStorage.getItem("address"))
        userName = sessionStorage.getItem("username")
        $("#updateBtn").click(function () {
            let contact = $("input[name=phone]").val()
            let address = $("input[name=address]").val()
            let aadhaar = $("input[name=aadhaar]").val()
            let pan = $("input[name=pan]").val()
            $.post("http://localhost:8082/app/update",{
                username:userName,
                contact:contact,
                address:address,
                aadhaar:aadhaar,
                pan:pan
            },function (response) {
                if(response>0){
                    alert("Updated")
                    window.location.href = "http://localhost:8082/web/view"
                }else {
                    alert("Something went wrong!")
                }

            })
        })
    })
</script>
<div class="d-flex justify-content-center mt-3 mb-3">
    <img th:src="@{/images/logo.png}" width="500px" alt="Logo">
</div>

<section style="background-color: #eee;">

<div class="container py-5">
    <div class="row">
        <div class="col">
            <div class="float-end mb-3">
                <a th:href="@{/logout}"><button class="btn btn-danger">Logout</button></a>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <nav aria-label="breadcrumb" class="bg-primary rounded-3 p-3 mb-4">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item text-light"><a href="#">Dashboard</a></li>
                    <li class="breadcrumb-item text-light"><a th:href="@{/web/view}">User Profile</a></li>
                    <li class="breadcrumb-item active text-light" aria-current="page">Update Profile</li>
                </ol>
            </nav>
        </div>
    </div>
    <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
            <div class="card h-100">
                <div class="card-body">
                    <div class="row">
                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                            <h6 class="mb-2 text-primary">Personal Details</h6>
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="form-group">
                                <label class="required-field">Contact</label>
                                <input type="text" class="form-control" name="phone" placeholder="Enter phone number">
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="form-group">
                                <label class="required-field">Address</label>
                                <input type="text" class="form-control" name="address" placeholder="Enter address">
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="form-group">
                                <label class="required-field">Aaadhaar Number</label>
                                <input type="text" class="form-control" name="aadhaar" placeholder="Enter aadhaar number">
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                            <div class="form-group">
                                <label class="required-field">PAN</label>
                                <input type="text" class="form-control" name="pan" placeholder="Enter PAN">
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                            <div class="text-right">
                                <a th:href="@{/web/view}"><button type="button"  class="btn btn-secondary">Cancel</button></a>
                                <button type="button" id="updateBtn" class="btn btn-primary">Update</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</section>
</body>
</html>